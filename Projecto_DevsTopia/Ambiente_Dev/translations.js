// ===== SISTEMA DE TRADUCCIONES =====
// Soporte multiidioma para DevsTopia

const translations = {
    es: {
        // Navegación
        nav_home: "Inicio",
        nav_about: "Nosotros",
        nav_services: "Servicios",
        nav_portfolio: "Portafolio",
        nav_blog: "Blog",
        nav_contact: "Contacto",
        
        // Hero Section
        hero_title: "Transformamos Ideas en Soluciones Digitales",
        hero_subtitle: "Desarrollo de software a medida, aplicaciones web y móviles con tecnología de vanguardia",
        hero_cta_primary: "Nuestros Servicios",
        hero_cta_secondary: "Ver Portafolio",
        
        // About Section
        about_title: "Sobre Nosotros",
        about_subtitle: "Somos expertos en transformación digital",
        about_description: "DevsTopia es una empresa de desarrollo de software que transforma ideas en soluciones digitales innovadoras, funcionales y escalables. Nos especializamos en crear aplicaciones web y móviles a la medida, plataformas tecnológicas y sistemas inteligentes que impulsan la eficiencia y el crecimiento de empresas en distintos sectores.",
        about_differentials_title: "Nuestros Diferenciales",
        about_differential_1: "Enfoque minimalista e intuitivo en diseño UX/UI",
        about_differential_2: "Equipo multidisciplinario y 100% enfocado en calidad",
        about_differential_3: "Desarrollo ágil, flexible y centrado en resultados",
        about_differential_4: "Soluciones tecnológicas personalizadas y escalables",
        about_differential_5: "Compromiso real con el éxito de nuestros clientes",
        about_stat_1: "Enfoque Personalizado en cada proyecto",
        about_stat_2: "Tiempo de respuesta promedio",
        about_stat_3: "Satisfaccion de Nuestros clientes",
        
        // Servicios
        services_title: "Nuestros Servicios",
        services_subtitle: "Soluciones tecnológicas integrales para tu negocio",
        service_web_dev: "Desarrollo Web",
        service_web_desc: "Sitios web modernos y responsivos",
        service_mobile: "Apps Móviles",
        service_mobile_desc: "Aplicaciones nativas e híbridas",
        service_software: "Software a Medida",
        service_software_desc: "Soluciones personalizadas",
        service_cloud: "Servicios en la Nube",
        service_cloud_desc: "Infraestructura escalable",
        service_automation: "Automatización",
        service_automation_desc: "Procesos optimizados",
        service_security: "Ciberseguridad",
        service_security_desc: "Protección integral",
        service_consulting: "Consultoría",
        
        // Portafolio
        portfolio_title: "Nuestro Portafolio",
        portfolio_subtitle: "Proyectos que hablan por sí mismos",
        portfolio_filter_all: "Todos",
        portfolio_filter_web: "Web",
        portfolio_filter_mobile: "Móvil",
        portfolio_filter_software: "Software",
        
        // Proyectos del Portafolio
        project_ecommerce_title: "E-commerce Platform",
        project_ecommerce_desc: "Plataforma de comercio electrónico completa con gestión de inventario, pagos y análisis",
        project_mobile_app_title: "App de Delivery",
        project_mobile_app_desc: "Aplicación móvil para delivery con geolocalización y pagos en línea",
        project_crm_title: "Sistema CRM",
        project_crm_desc: "Sistema de gestión de relaciones con clientes personalizado",
        project_dashboard_title: "Dashboard Analytics",
        project_dashboard_desc: "Panel de control con análisis en tiempo real y reportes",
        project_automation_title: "Automatización Industrial",
        project_automation_desc: "Sistema de automatización para procesos industriales",
        project_security_title: "Sistema de Seguridad",
        project_security_desc: "Solución integral de ciberseguridad empresarial",
        
        // Blog
        blog_title: "Blog",
        blog_subtitle: "Últimas noticias y tendencias tecnológicas",
        
        // Artículos del Blog
        blog_ai_trends_title: "Tendencias de IA en 2024",
        blog_ai_trends_desc: "Descubre las principales tendencias de inteligencia artificial que están transformando la industria tecnológica",
        blog_web_dev_title: "Desarrollo Web Moderno",
        blog_web_dev_desc: "Guía completa sobre las mejores prácticas en desarrollo web actual",
        blog_mobile_tips_title: "Tips para Apps Móviles",
        blog_mobile_tips_desc: "Consejos esenciales para crear aplicaciones móviles exitosas",
        blog_cloud_migration_title: "Migración a la Nube",
        blog_cloud_migration_desc: "Todo lo que necesitas saber sobre migración de sistemas a la nube",
        blog_cybersecurity_title: "Ciberseguridad 2024",
        blog_cybersecurity_desc: "Las amenazas más importantes y cómo proteger tu empresa",
        
        // FAQ
        faq_title: "Preguntas Frecuentes",
        faq_subtitle: "Resolvemos tus dudas",
        
        // Preguntas Frecuentes
        faq_1_question: "¿Cuánto tiempo toma desarrollar una aplicación?",
        faq_1_answer: "El tiempo varía según la complejidad. Una aplicación web simple puede tomar 4-8 semanas, mientras que aplicaciones complejas pueden requerir 3-6 meses.",
        faq_2_question: "¿Qué tecnologías utilizan?",
        faq_2_answer: "Utilizamos las tecnologías más modernas: React, Node.js, Python, Flutter, AWS, y más, según los requerimientos del proyecto.",
        faq_3_question: "¿Ofrecen mantenimiento post-lanzamiento?",
        faq_3_answer: "Sí, ofrecemos servicios de mantenimiento, actualizaciones y soporte técnico continuo para todos nuestros proyectos.",
        faq_4_question: "¿Cómo es el proceso de desarrollo?",
        faq_4_answer: "Seguimos metodología ágil: planificación, desarrollo iterativo, pruebas continuas y entregas incrementales.",
        faq_5_question: "¿Pueden trabajar con presupuestos limitados?",
        faq_5_answer: "Sí, adaptamos nuestras soluciones a diferentes presupuestos, priorizando funcionalidades esenciales.",
        faq_6_question: "¿Qué incluye la consultoría técnica?",
        faq_6_answer: "Análisis de requerimientos, arquitectura de sistemas, selección de tecnologías y planificación estratégica.",
        

        
        // Contacto
        contact_title: "Contáctanos",
        contact_subtitle: "Estamos aquí para ayudarte a hacer realidad tu proyecto",
        contact_name: "Nombre completo *",
        contact_email: "Email *",
        contact_subject: "Asunto *",
        contact_message: "Mensaje *",
        contact_send: "Enviar Mensaje",
        contact_address: "Ubicación",
        contact_phone: "Teléfono",
        contact_email_label: "Email",
        
        // Footer
        footer_copyright: "© 2024 DevsTopia. Todos los derechos reservados.",
        footer_admin: "Admin",
        footer_description: "Transformamos ideas en soluciones digitales innovadoras y escalables.",
        footer_services: "Servicios",
        footer_company: "Empresa",
        
        // Chat
        chat_title: "Chat en Vivo",
        chat_placeholder: "Escribe tu mensaje...",
        chat_send: "Enviar",
        chat_greeting: "¡Hola! ¿En qué podemos ayudarte hoy?",
        
        // Modal de Cotización
        quote_title: "Solicitar Cotización",
        quote_name: "Nombre completo *",
        quote_email: "Email *",
        quote_service: "Servicio de interés *",
        quote_service_placeholder: "Selecciona un servicio",
        quote_description: "Descripción del proyecto *",
        quote_budget: "Presupuesto estimado",
        quote_budget_placeholder: "Selecciona un rango",
        quote_submit: "Enviar Solicitud",
        
        // Servicios de cotización
        quote_service_web: "Desarrollo Web",
        quote_service_mobile: "Aplicación Móvil",
        quote_service_software: "Software a Medida",
        quote_service_consulting: "Consultoría",
        quote_service_other: "Otros",
        
        // Rangos de presupuesto
        quote_budget_less_5k: "Menos de $5,000 USD",
        quote_budget_5k_15k: "$5,000 - $15,000 USD",
        quote_budget_15k_50k: "$15,000 - $50,000 USD",
        quote_budget_more_50k: "Más de $50,000 USD",
        
        // Botones
        btn_learn_more: "Saber Más",
        btn_view_project: "Ver Proyecto",
        btn_close: "Cerrar",
        btn_submit: "Enviar",
        
        // Estados
        loading: "Cargando...",
        error: "Error",
        success: "Éxito",
        
        // Admin Panel
        admin_login: "Iniciar Sesión",
        admin_login_desc: "Ingresa las credenciales para acceder al dashboard",
        admin_username: "Usuario",
        admin_username_placeholder: "Ingresa tu usuario",
        admin_password: "Contraseña",
        admin_password_placeholder: "Ingresa tu contraseña",
        admin_login_btn: "Entrar",
        admin_panel_title: "Panel de Administrador",
        admin_analytics: "Analytics",
        admin_logout: "Cerrar Sesión"
    },
    
    en: {
        // Navigation
        nav_home: "Home",
        nav_about: "About",
        nav_services: "Services",
        nav_portfolio: "Portfolio",
        nav_blog: "Blog",
        nav_contact: "Contact",
        
        // Hero Section
        hero_title: "We Transform Ideas into Digital Solutions",
        hero_subtitle: "Custom software development, web and mobile applications with cutting-edge technology",
        hero_cta_primary: "Our Services",
        hero_cta_secondary: "View Portfolio",
        
        // About Section
        about_title: "About Us",
        about_subtitle: "We are experts in digital transformation",
        about_description: "DevsTopia is a software development company that transforms ideas into innovative, functional and scalable digital solutions. We specialize in creating custom web and mobile applications, technology platforms and intelligent systems that drive efficiency and business growth across different sectors.",
        about_differentials_title: "Our Differentiators",
        about_differential_1: "Minimalist and intuitive approach to UX/UI design",
        about_differential_2: "Multidisciplinary team 100% focused on quality",
        about_differential_3: "Agile, flexible development focused on results",
        about_differential_4: "Personalized and scalable technological solutions",
        about_differential_5: "Real commitment to our clients' success",
        about_stat_1: "Personalized approach in each project",
        about_stat_2: "Average response time",
        about_stat_3: "Client satisfaction",
        
        // Services
        services_title: "Our Services",
        services_subtitle: "Comprehensive technological solutions for your business",
        service_web_dev: "Web Development",
        service_web_desc: "Modern and responsive websites",
        service_mobile: "Mobile Apps",
        service_mobile_desc: "Native and hybrid applications",
        service_software: "Custom Software",
        service_software_desc: "Personalized solutions",
        service_cloud: "Cloud Services",
        service_cloud_desc: "Scalable infrastructure",
        service_automation: "Automation",
        service_automation_desc: "Optimized processes",
        service_security: "Cybersecurity",
        service_security_desc: "Comprehensive protection",
        service_consulting: "Consulting",
        
        // Portfolio
        portfolio_title: "Our Portfolio",
        portfolio_subtitle: "Projects that speak for themselves",
        portfolio_filter_all: "All",
        portfolio_filter_web: "Web",
        portfolio_filter_mobile: "Mobile",
        portfolio_filter_software: "Software",
        
        // Portfolio Projects
        project_ecommerce_title: "E-commerce Platform",
        project_ecommerce_desc: "Complete e-commerce platform with inventory management, payments and analytics",
        project_mobile_app_title: "Delivery App",
        project_mobile_app_desc: "Mobile application for delivery with geolocation and online payments",
        project_crm_title: "CRM System",
        project_crm_desc: "Custom customer relationship management system",
        project_dashboard_title: "Analytics Dashboard",
        project_dashboard_desc: "Control panel with real-time analytics and reports",
        project_automation_title: "Industrial Automation",
        project_automation_desc: "Automation system for industrial processes",
        project_security_title: "Security System",
        project_security_desc: "Comprehensive enterprise cybersecurity solution",
        
        // Blog
        blog_title: "Blog",
        blog_subtitle: "Latest news and technology trends",
        
        // Blog Articles
        blog_ai_trends_title: "AI Trends in 2024",
        blog_ai_trends_desc: "Discover the main artificial intelligence trends that are transforming the technology industry",
        blog_web_dev_title: "Modern Web Development",
        blog_web_dev_desc: "Complete guide on current best practices in web development",
        blog_mobile_tips_title: "Mobile App Tips",
        blog_mobile_tips_desc: "Essential tips for creating successful mobile applications",
        blog_cloud_migration_title: "Cloud Migration",
        blog_cloud_migration_desc: "Everything you need to know about system migration to the cloud",
        blog_cybersecurity_title: "Cybersecurity 2024",
        blog_cybersecurity_desc: "The most important threats and how to protect your company",
        
        // FAQ
        faq_title: "Frequently Asked Questions",
        faq_subtitle: "We solve your doubts",
        
        // Frequently Asked Questions
        faq_1_question: "How long does it take to develop an application?",
        faq_1_answer: "Time varies depending on complexity. A simple web application can take 4-8 weeks, while complex applications may require 3-6 months.",
        faq_2_question: "What technologies do you use?",
        faq_2_answer: "We use the most modern technologies: React, Node.js, Python, Flutter, AWS, and more, depending on project requirements.",
        faq_3_question: "Do you offer post-launch maintenance?",
        faq_3_answer: "Yes, we offer maintenance, updates and continuous technical support services for all our projects.",
        faq_4_question: "How is the development process?",
        faq_4_answer: "We follow agile methodology: planning, iterative development, continuous testing and incremental deliveries.",
        faq_5_question: "Can you work with limited budgets?",
        faq_5_answer: "Yes, we adapt our solutions to different budgets, prioritizing essential functionalities.",
        faq_6_question: "What does technical consulting include?",
        faq_6_answer: "Requirements analysis, system architecture, technology selection and strategic planning.",
        

        
        // Contact
        contact_title: "Contact Us",
        contact_subtitle: "We are here to help you make your project a reality",
        contact_name: "Full Name *",
        contact_email: "Email *",
        contact_subject: "Subject *",
        contact_message: "Message *",
        contact_send: "Send Message",
        contact_address: "Location",
        contact_phone: "Phone",
        contact_email_label: "Email",
        
        // Footer
        footer_copyright: "© 2024 DevsTopia. All rights reserved.",
        footer_admin: "Admin",
        footer_description: "We transform ideas into innovative and scalable digital solutions.",
        footer_services: "Services",
        footer_company: "Company",
        
        // Chat
        chat_title: "Live Chat",
        chat_placeholder: "Type your message...",
        chat_send: "Send",
        chat_greeting: "Hello! How can we help you today?",
        
        // Quote Modal
        quote_title: "Request Quote",
        quote_name: "Full Name *",
        quote_email: "Email *",
        quote_service: "Service of Interest *",
        quote_service_placeholder: "Select a service",
        quote_description: "Project Description *",
        quote_budget: "Estimated Budget",
        quote_budget_placeholder: "Select a range",
        quote_submit: "Send Request",
        
        // Quote services
        quote_service_web: "Web Development",
        quote_service_mobile: "Mobile Application",
        quote_service_software: "Custom Software",
        quote_service_consulting: "Consulting",
        quote_service_other: "Others",
        
        // Budget ranges
        quote_budget_less_5k: "Less than $5,000 USD",
        quote_budget_5k_15k: "$5,000 - $15,000 USD",
        quote_budget_15k_50k: "$15,000 - $50,000 USD",
        quote_budget_more_50k: "More than $50,000 USD",
        
        // Buttons
        btn_learn_more: "Learn More",
        btn_view_project: "View Project",
        btn_close: "Close",
        btn_submit: "Submit",
        
        // States
        loading: "Loading...",
        error: "Error",
        success: "Success",
        
        // Admin Panel
        admin_login: "Login",
        admin_login_desc: "Enter credentials to access dashboard",
        admin_username: "Username",
        admin_username_placeholder: "Enter your username",
        admin_password: "Password",
        admin_password_placeholder: "Enter your password",
        admin_login_btn: "Enter",
        admin_panel_title: "Admin Panel",
        admin_analytics: "Analytics",
        admin_logout: "Logout"
    }
};

// ===== CLASE DE INTERNACIONALIZACIÓN =====
class I18n {
    constructor() {
        this.currentLanguage = localStorage.getItem('language') || 'es';
        this.init();
    }
    
    init() {
        this.updateLanguage(this.currentLanguage);
        this.createLanguageSelector();
    }
    
    // Cambiar idioma
    changeLanguage(lang) {
        this.currentLanguage = lang;
        localStorage.setItem('language', lang);
        this.updateLanguage(lang);
        this.updateLanguageSelector();
        
        // Recargar contenido dinámico
        if (window.reloadDynamicContent) {
            setTimeout(() => window.reloadDynamicContent(), 100);
        }
    }
    
    // Obtener traducción
    t(key) {
        const currentLang = this.currentLanguage || 'es';
        return translations[currentLang]?.[key] || key;
    }
    
    // Actualizar contenido de la página
    updateLanguage(lang) {
        // Actualizar elementos con data-i18n
        document.querySelectorAll('[data-i18n]').forEach(element => {
            const key = element.getAttribute('data-i18n');
            const translation = this.t(key);
            
            if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
                element.placeholder = translation;
            } else {
                element.textContent = translation;
            }
        });
        
        // Actualizar atributos específicos
        this.updateAttributes();
        
        // Recargar contenido dinámico
        if (window.reloadDynamicContent) {
            window.reloadDynamicContent();
        }
    }
    
    // Actualizar atributos específicos
    updateAttributes() {
        // Actualizar placeholders
        document.querySelectorAll('input[data-i18n-placeholder]').forEach(input => {
            const key = input.getAttribute('data-i18n-placeholder');
            input.placeholder = this.t(key);
        });
        
        // Actualizar títulos
        document.querySelectorAll('[data-i18n-title]').forEach(element => {
            const key = element.getAttribute('data-i18n-title');
            element.title = this.t(key);
        });
        
        // Actualizar opciones de select
        document.querySelectorAll('select[data-i18n-options]').forEach(select => {
            select.querySelectorAll('option').forEach(option => {
                const optionKey = option.getAttribute('data-i18n-key');
                if (optionKey) {
                    option.textContent = this.t(optionKey);
                }
            });
        });
    }
    
    // Crear selector de idioma
    createLanguageSelector() {
        const navbar = document.querySelector('.nav-controls');
        if (!navbar) return;
        
        const languageSelector = document.createElement('div');
        languageSelector.className = 'language-selector';
        languageSelector.innerHTML = `
            <button class="language-btn" onclick="i18n.toggleLanguageMenu()">
                <i class="fas fa-globe"></i>
                <span>${this.currentLanguage.toUpperCase()}</span>
                <i class="fas fa-chevron-down"></i>
            </button>
            <div class="language-menu" id="language-menu">
                <button onclick="i18n.changeLanguage('es')" class="language-option ${this.currentLanguage === 'es' ? 'active' : ''}">
                    <span>🇪🇸</span> Español
                </button>
                <button onclick="i18n.changeLanguage('en')" class="language-option ${this.currentLanguage === 'en' ? 'active' : ''}">
                    <span>🇺🇸</span> English
                </button>
            </div>
        `;
        
        navbar.appendChild(languageSelector);
    }
    
    // Alternar menú de idioma
    toggleLanguageMenu() {
        const menu = document.getElementById('language-menu');
        if (menu) {
            menu.classList.toggle('show');
        }
    }
    
    // Actualizar selector de idioma
    updateLanguageSelector() {
        const languageBtn = document.querySelector('.language-btn span');
        if (languageBtn) {
            languageBtn.textContent = this.currentLanguage.toUpperCase();
        }
        
        document.querySelectorAll('.language-option').forEach(option => {
            option.classList.remove('active');
            if (option.onclick.toString().includes(this.currentLanguage)) {
                option.classList.add('active');
            }
        });
    }
    
    // Obtener idioma actual
    getCurrentLanguage() {
        return this.currentLanguage;
    }
    
    // Verificar si es español
    isSpanish() {
        return this.currentLanguage === 'es';
    }
    
    // Verificar si es inglés
    isEnglish() {
        return this.currentLanguage === 'en';
    }
}

// ===== INSTANCIA GLOBAL =====
const i18n = new I18n();

// ===== EXPORTAR FUNCIONES =====
window.i18n = i18n;
window.changeLanguage = (lang) => i18n.changeLanguage(lang);
window.t = (key) => i18n.t(key);
window.getCurrentLanguage = () => i18n.getCurrentLanguage();

// Función de debug para verificar el estado
window.debugI18n = () => {
    console.log('🔍 === DEBUG SISTEMA DE TRADUCCIONES ===');
    console.log('- i18n disponible:', !!window.i18n);
    console.log('- Idioma actual:', window.getCurrentLanguage());
    console.log('- Función t disponible:', !!window.t);
    console.log('- Función getCurrentLanguage disponible:', !!window.getCurrentLanguage());
    
    // Probar algunas traducciones
    console.log('🌐 Pruebas de traducción:');
    console.log('- service_web_dev:', window.t('service_web_dev'));
    console.log('- service_software:', window.t('service_software'));
    console.log('- project_ecommerce_title:', window.t('project_ecommerce_title'));
    
    // Verificar funciones dinámicas
    console.log('📦 Funciones dinámicas:');
    console.log('- reloadDynamicContent disponible:', !!window.reloadDynamicContent);
    console.log('- loadServices disponible:', !!window.loadServices);
    
    // Probar recarga manual
    console.log('🔄 Probando recarga manual...');
    if (window.reloadDynamicContent) {
        window.reloadDynamicContent();
    }
};

// Cerrar menú de idioma al hacer clic fuera
document.addEventListener('click', (e) => {
    if (!e.target.closest('.language-selector')) {
        const menu = document.getElementById('language-menu');
        if (menu) {
            menu.classList.remove('show');
        }
    }
}); 