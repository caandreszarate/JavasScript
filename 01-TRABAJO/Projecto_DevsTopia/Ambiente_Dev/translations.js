// ===== SISTEMA DE TRADUCCIONES =====
// Soporte multiidioma para DevsTopia

const translations = {
    es: {
        // Navegaci칩n
        nav_home: "Inicio",
        nav_about: "Nosotros",
        nav_services: "Servicios",
        nav_portfolio: "Portafolio",
        nav_blog: "Blog",
        nav_contact: "Contacto",
        
        // Hero Section
        hero_title: "Transformamos Ideas en Soluciones Digitales",
        hero_subtitle: "Desarrollo de software a medida, aplicaciones web y m칩viles con tecnolog칤a de vanguardia",
        hero_cta_primary: "Nuestros Servicios",
        hero_cta_secondary: "Ver Portafolio",
        
        // About Section
        about_title: "Sobre Nosotros",
        about_subtitle: "Somos expertos en transformaci칩n digital",
        about_description: "DevsTopia es una empresa de desarrollo de software que transforma ideas en soluciones digitales innovadoras, funcionales y escalables. Nos especializamos en crear aplicaciones web y m칩viles a la medida, plataformas tecnol칩gicas y sistemas inteligentes que impulsan la eficiencia y el crecimiento de empresas en distintos sectores.",
        about_differentials_title: "Nuestros Diferenciales",
        about_differential_1: "Enfoque minimalista e intuitivo en dise침o UX/UI",
        about_differential_2: "Equipo multidisciplinario y 100% enfocado en calidad",
        about_differential_3: "Desarrollo 치gil, flexible y centrado en resultados",
        about_differential_4: "Soluciones tecnol칩gicas personalizadas y escalables",
        about_differential_5: "Compromiso real con el 칠xito de nuestros clientes",
        about_stat_1: "Enfoque Personalizado en cada proyecto",
        about_stat_2: "Tiempo de respuesta promedio",
        about_stat_3: "Satisfaccion de Nuestros clientes",
        
        // Servicios
        services_title: "Nuestros Servicios",
        services_subtitle: "Soluciones tecnol칩gicas integrales para tu negocio",
        service_web_dev: "Desarrollo Web",
        service_web_desc: "Sitios web modernos y responsivos",
        service_mobile: "Apps M칩viles",
        service_mobile_desc: "Aplicaciones nativas e h칤bridas",
        service_software: "Software a Medida",
        service_software_desc: "Soluciones personalizadas",
        service_cloud: "Servicios en la Nube",
        service_cloud_desc: "Infraestructura escalable",
        service_automation: "Automatizaci칩n",
        service_automation_desc: "Procesos optimizados",
        service_security: "Ciberseguridad",
        service_security_desc: "Protecci칩n integral",
        service_consulting: "Consultor칤a",
        
        // Portafolio
        portfolio_title: "Nuestro Portafolio",
        portfolio_subtitle: "Proyectos que hablan por s칤 mismos",
        portfolio_filter_all: "Todos",
        portfolio_filter_web: "Web",
        portfolio_filter_mobile: "M칩vil",
        portfolio_filter_software: "Software",
        
        // Proyectos del Portafolio
        project_ecommerce_title: "E-commerce Platform",
        project_ecommerce_desc: "Plataforma de comercio electr칩nico completa con gesti칩n de inventario, pagos y an치lisis",
        project_mobile_app_title: "App de Delivery",
        project_mobile_app_desc: "Aplicaci칩n m칩vil para delivery con geolocalizaci칩n y pagos en l칤nea",
        project_crm_title: "Sistema CRM",
        project_crm_desc: "Sistema de gesti칩n de relaciones con clientes personalizado",
        project_dashboard_title: "Dashboard Analytics",
        project_dashboard_desc: "Panel de control con an치lisis en tiempo real y reportes",
        project_automation_title: "Automatizaci칩n Industrial",
        project_automation_desc: "Sistema de automatizaci칩n para procesos industriales",
        project_security_title: "Sistema de Seguridad",
        project_security_desc: "Soluci칩n integral de ciberseguridad empresarial",
        
        // Blog
        blog_title: "Blog",
        blog_subtitle: "칔ltimas noticias y tendencias tecnol칩gicas",
        
        // Art칤culos del Blog
        blog_ai_trends_title: "Tendencias de IA en 2024",
        blog_ai_trends_desc: "Descubre las principales tendencias de inteligencia artificial que est치n transformando la industria tecnol칩gica",
        blog_web_dev_title: "Desarrollo Web Moderno",
        blog_web_dev_desc: "Gu칤a completa sobre las mejores pr치cticas en desarrollo web actual",
        blog_mobile_tips_title: "Tips para Apps M칩viles",
        blog_mobile_tips_desc: "Consejos esenciales para crear aplicaciones m칩viles exitosas",
        blog_cloud_migration_title: "Migraci칩n a la Nube",
        blog_cloud_migration_desc: "Todo lo que necesitas saber sobre migraci칩n de sistemas a la nube",
        blog_cybersecurity_title: "Ciberseguridad 2024",
        blog_cybersecurity_desc: "Las amenazas m치s importantes y c칩mo proteger tu empresa",
        
        // FAQ
        faq_title: "Preguntas Frecuentes",
        faq_subtitle: "Resolvemos tus dudas",
        
        // Preguntas Frecuentes
        faq_1_question: "쮺u치nto tiempo toma desarrollar una aplicaci칩n?",
        faq_1_answer: "El tiempo var칤a seg칰n la complejidad. Una aplicaci칩n web simple puede tomar 4-8 semanas, mientras que aplicaciones complejas pueden requerir 3-6 meses.",
        faq_2_question: "쯈u칠 tecnolog칤as utilizan?",
        faq_2_answer: "Utilizamos las tecnolog칤as m치s modernas: React, Node.js, Python, Flutter, AWS, y m치s, seg칰n los requerimientos del proyecto.",
        faq_3_question: "쯆frecen mantenimiento post-lanzamiento?",
        faq_3_answer: "S칤, ofrecemos servicios de mantenimiento, actualizaciones y soporte t칠cnico continuo para todos nuestros proyectos.",
        faq_4_question: "쮺칩mo es el proceso de desarrollo?",
        faq_4_answer: "Seguimos metodolog칤a 치gil: planificaci칩n, desarrollo iterativo, pruebas continuas y entregas incrementales.",
        faq_5_question: "쯇ueden trabajar con presupuestos limitados?",
        faq_5_answer: "S칤, adaptamos nuestras soluciones a diferentes presupuestos, priorizando funcionalidades esenciales.",
        faq_6_question: "쯈u칠 incluye la consultor칤a t칠cnica?",
        faq_6_answer: "An치lisis de requerimientos, arquitectura de sistemas, selecci칩n de tecnolog칤as y planificaci칩n estrat칠gica.",
        

        
        // Contacto
        contact_title: "Cont치ctanos",
        contact_subtitle: "Estamos aqu칤 para ayudarte a hacer realidad tu proyecto",
        contact_name: "Nombre completo *",
        contact_email: "Email *",
        contact_subject: "Asunto *",
        contact_message: "Mensaje *",
        contact_send: "Enviar Mensaje",
        contact_address: "Ubicaci칩n",
        contact_phone: "Tel칠fono",
        contact_email_label: "Email",
        
        // Footer
        footer_copyright: "춸 2024 DevsTopia. Todos los derechos reservados.",
        footer_admin: "Admin",
        footer_description: "Transformamos ideas en soluciones digitales innovadoras y escalables.",
        footer_services: "Servicios",
        footer_company: "Empresa",
        
        // Chat
        chat_title: "Chat en Vivo",
        chat_placeholder: "Escribe tu mensaje...",
        chat_send: "Enviar",
        chat_greeting: "춰Hola! 쮼n qu칠 podemos ayudarte hoy?",
        
        // Modal de Cotizaci칩n
        quote_title: "Solicitar Cotizaci칩n",
        quote_name: "Nombre completo *",
        quote_email: "Email *",
        quote_service: "Servicio de inter칠s *",
        quote_service_placeholder: "Selecciona un servicio",
        quote_description: "Descripci칩n del proyecto *",
        quote_budget: "Presupuesto estimado",
        quote_budget_placeholder: "Selecciona un rango",
        quote_submit: "Enviar Solicitud",
        
        // Servicios de cotizaci칩n
        quote_service_web: "Desarrollo Web",
        quote_service_mobile: "Aplicaci칩n M칩vil",
        quote_service_software: "Software a Medida",
        quote_service_consulting: "Consultor칤a",
        quote_service_other: "Otros",
        
        // Rangos de presupuesto
        quote_budget_less_5k: "Menos de $5,000 USD",
        quote_budget_5k_15k: "$5,000 - $15,000 USD",
        quote_budget_15k_50k: "$15,000 - $50,000 USD",
        quote_budget_more_50k: "M치s de $50,000 USD",
        
        // Botones
        btn_learn_more: "Saber M치s",
        btn_view_project: "Ver Proyecto",
        btn_close: "Cerrar",
        btn_submit: "Enviar",
        
        // Estados
        loading: "Cargando...",
        error: "Error",
        success: "칄xito",
        
        // Admin Panel
        admin_login: "Iniciar Sesi칩n",
        admin_login_desc: "Ingresa las credenciales para acceder al dashboard",
        admin_username: "Usuario",
        admin_username_placeholder: "Ingresa tu usuario",
        admin_password: "Contrase침a",
        admin_password_placeholder: "Ingresa tu contrase침a",
        admin_login_btn: "Entrar",
        admin_panel_title: "Panel de Administrador",
        admin_analytics: "Analytics",
        admin_logout: "Cerrar Sesi칩n"
    },
    
    en: {
        // Navigation
        nav_home: "Home",
        nav_about: "About",
        nav_services: "Services",
        nav_portfolio: "Portfolio",
        nav_blog: "Blog",
        nav_contact: "Contact",
        
        // Hero Section
        hero_title: "We Transform Ideas into Digital Solutions",
        hero_subtitle: "Custom software development, web and mobile applications with cutting-edge technology",
        hero_cta_primary: "Our Services",
        hero_cta_secondary: "View Portfolio",
        
        // About Section
        about_title: "About Us",
        about_subtitle: "We are experts in digital transformation",
        about_description: "DevsTopia is a software development company that transforms ideas into innovative, functional and scalable digital solutions. We specialize in creating custom web and mobile applications, technology platforms and intelligent systems that drive efficiency and business growth across different sectors.",
        about_differentials_title: "Our Differentiators",
        about_differential_1: "Minimalist and intuitive approach to UX/UI design",
        about_differential_2: "Multidisciplinary team 100% focused on quality",
        about_differential_3: "Agile, flexible development focused on results",
        about_differential_4: "Personalized and scalable technological solutions",
        about_differential_5: "Real commitment to our clients' success",
        about_stat_1: "Personalized approach in each project",
        about_stat_2: "Average response time",
        about_stat_3: "Client satisfaction",
        
        // Services
        services_title: "Our Services",
        services_subtitle: "Comprehensive technological solutions for your business",
        service_web_dev: "Web Development",
        service_web_desc: "Modern and responsive websites",
        service_mobile: "Mobile Apps",
        service_mobile_desc: "Native and hybrid applications",
        service_software: "Custom Software",
        service_software_desc: "Personalized solutions",
        service_cloud: "Cloud Services",
        service_cloud_desc: "Scalable infrastructure",
        service_automation: "Automation",
        service_automation_desc: "Optimized processes",
        service_security: "Cybersecurity",
        service_security_desc: "Comprehensive protection",
        service_consulting: "Consulting",
        
        // Portfolio
        portfolio_title: "Our Portfolio",
        portfolio_subtitle: "Projects that speak for themselves",
        portfolio_filter_all: "All",
        portfolio_filter_web: "Web",
        portfolio_filter_mobile: "Mobile",
        portfolio_filter_software: "Software",
        
        // Portfolio Projects
        project_ecommerce_title: "E-commerce Platform",
        project_ecommerce_desc: "Complete e-commerce platform with inventory management, payments and analytics",
        project_mobile_app_title: "Delivery App",
        project_mobile_app_desc: "Mobile application for delivery with geolocation and online payments",
        project_crm_title: "CRM System",
        project_crm_desc: "Custom customer relationship management system",
        project_dashboard_title: "Analytics Dashboard",
        project_dashboard_desc: "Control panel with real-time analytics and reports",
        project_automation_title: "Industrial Automation",
        project_automation_desc: "Automation system for industrial processes",
        project_security_title: "Security System",
        project_security_desc: "Comprehensive enterprise cybersecurity solution",
        
        // Blog
        blog_title: "Blog",
        blog_subtitle: "Latest news and technology trends",
        
        // Blog Articles
        blog_ai_trends_title: "AI Trends in 2024",
        blog_ai_trends_desc: "Discover the main artificial intelligence trends that are transforming the technology industry",
        blog_web_dev_title: "Modern Web Development",
        blog_web_dev_desc: "Complete guide on current best practices in web development",
        blog_mobile_tips_title: "Mobile App Tips",
        blog_mobile_tips_desc: "Essential tips for creating successful mobile applications",
        blog_cloud_migration_title: "Cloud Migration",
        blog_cloud_migration_desc: "Everything you need to know about system migration to the cloud",
        blog_cybersecurity_title: "Cybersecurity 2024",
        blog_cybersecurity_desc: "The most important threats and how to protect your company",
        
        // FAQ
        faq_title: "Frequently Asked Questions",
        faq_subtitle: "We solve your doubts",
        
        // Frequently Asked Questions
        faq_1_question: "How long does it take to develop an application?",
        faq_1_answer: "Time varies depending on complexity. A simple web application can take 4-8 weeks, while complex applications may require 3-6 months.",
        faq_2_question: "What technologies do you use?",
        faq_2_answer: "We use the most modern technologies: React, Node.js, Python, Flutter, AWS, and more, depending on project requirements.",
        faq_3_question: "Do you offer post-launch maintenance?",
        faq_3_answer: "Yes, we offer maintenance, updates and continuous technical support services for all our projects.",
        faq_4_question: "How is the development process?",
        faq_4_answer: "We follow agile methodology: planning, iterative development, continuous testing and incremental deliveries.",
        faq_5_question: "Can you work with limited budgets?",
        faq_5_answer: "Yes, we adapt our solutions to different budgets, prioritizing essential functionalities.",
        faq_6_question: "What does technical consulting include?",
        faq_6_answer: "Requirements analysis, system architecture, technology selection and strategic planning.",
        

        
        // Contact
        contact_title: "Contact Us",
        contact_subtitle: "We are here to help you make your project a reality",
        contact_name: "Full Name *",
        contact_email: "Email *",
        contact_subject: "Subject *",
        contact_message: "Message *",
        contact_send: "Send Message",
        contact_address: "Location",
        contact_phone: "Phone",
        contact_email_label: "Email",
        
        // Footer
        footer_copyright: "춸 2024 DevsTopia. All rights reserved.",
        footer_admin: "Admin",
        footer_description: "We transform ideas into innovative and scalable digital solutions.",
        footer_services: "Services",
        footer_company: "Company",
        
        // Chat
        chat_title: "Live Chat",
        chat_placeholder: "Type your message...",
        chat_send: "Send",
        chat_greeting: "Hello! How can we help you today?",
        
        // Quote Modal
        quote_title: "Request Quote",
        quote_name: "Full Name *",
        quote_email: "Email *",
        quote_service: "Service of Interest *",
        quote_service_placeholder: "Select a service",
        quote_description: "Project Description *",
        quote_budget: "Estimated Budget",
        quote_budget_placeholder: "Select a range",
        quote_submit: "Send Request",
        
        // Quote services
        quote_service_web: "Web Development",
        quote_service_mobile: "Mobile Application",
        quote_service_software: "Custom Software",
        quote_service_consulting: "Consulting",
        quote_service_other: "Others",
        
        // Budget ranges
        quote_budget_less_5k: "Less than $5,000 USD",
        quote_budget_5k_15k: "$5,000 - $15,000 USD",
        quote_budget_15k_50k: "$15,000 - $50,000 USD",
        quote_budget_more_50k: "More than $50,000 USD",
        
        // Buttons
        btn_learn_more: "Learn More",
        btn_view_project: "View Project",
        btn_close: "Close",
        btn_submit: "Submit",
        
        // States
        loading: "Loading...",
        error: "Error",
        success: "Success",
        
        // Admin Panel
        admin_login: "Login",
        admin_login_desc: "Enter credentials to access dashboard",
        admin_username: "Username",
        admin_username_placeholder: "Enter your username",
        admin_password: "Password",
        admin_password_placeholder: "Enter your password",
        admin_login_btn: "Enter",
        admin_panel_title: "Admin Panel",
        admin_analytics: "Analytics",
        admin_logout: "Logout"
    }
};

// ===== CLASE DE INTERNACIONALIZACI칍N =====
class I18n {
    constructor() {
        this.currentLanguage = localStorage.getItem('language') || 'es';
        this.init();
    }
    
    init() {
        this.updateLanguage(this.currentLanguage);
        this.createLanguageSelector();
    }
    
    // Cambiar idioma
    changeLanguage(lang) {
        this.currentLanguage = lang;
        localStorage.setItem('language', lang);
        this.updateLanguage(lang);
        this.updateLanguageSelector();
        
        // Recargar contenido din치mico
        if (window.reloadDynamicContent) {
            setTimeout(() => window.reloadDynamicContent(), 100);
        }
    }
    
    // Obtener traducci칩n
    t(key) {
        const currentLang = this.currentLanguage || 'es';
        return translations[currentLang]?.[key] || key;
    }
    
    // Actualizar contenido de la p치gina
    updateLanguage(lang) {
        // Actualizar elementos con data-i18n
        document.querySelectorAll('[data-i18n]').forEach(element => {
            const key = element.getAttribute('data-i18n');
            const translation = this.t(key);
            
            if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
                element.placeholder = translation;
            } else {
                element.textContent = translation;
            }
        });
        
        // Actualizar atributos espec칤ficos
        this.updateAttributes();
        
        // Recargar contenido din치mico
        if (window.reloadDynamicContent) {
            window.reloadDynamicContent();
        }
    }
    
    // Actualizar atributos espec칤ficos
    updateAttributes() {
        // Actualizar placeholders
        document.querySelectorAll('input[data-i18n-placeholder]').forEach(input => {
            const key = input.getAttribute('data-i18n-placeholder');
            input.placeholder = this.t(key);
        });
        
        // Actualizar t칤tulos
        document.querySelectorAll('[data-i18n-title]').forEach(element => {
            const key = element.getAttribute('data-i18n-title');
            element.title = this.t(key);
        });
        
        // Actualizar opciones de select
        document.querySelectorAll('select[data-i18n-options]').forEach(select => {
            select.querySelectorAll('option').forEach(option => {
                const optionKey = option.getAttribute('data-i18n-key');
                if (optionKey) {
                    option.textContent = this.t(optionKey);
                }
            });
        });
    }
    
    // Crear selector de idioma
    createLanguageSelector() {
        const navbar = document.querySelector('.nav-controls');
        if (!navbar) return;
        
        const languageSelector = document.createElement('div');
        languageSelector.className = 'language-selector';
        languageSelector.innerHTML = `
            <button class="language-btn" onclick="i18n.toggleLanguageMenu()">
                <i class="fas fa-globe"></i>
                <span>${this.currentLanguage.toUpperCase()}</span>
                <i class="fas fa-chevron-down"></i>
            </button>
            <div class="language-menu" id="language-menu">
                <button onclick="i18n.changeLanguage('es')" class="language-option ${this.currentLanguage === 'es' ? 'active' : ''}">
                    <span>游쀯릖</span> Espa침ol
                </button>
                <button onclick="i18n.changeLanguage('en')" class="language-option ${this.currentLanguage === 'en' ? 'active' : ''}">
                    <span>游쥟릖</span> English
                </button>
            </div>
        `;
        
        navbar.appendChild(languageSelector);
    }
    
    // Alternar men칰 de idioma
    toggleLanguageMenu() {
        const menu = document.getElementById('language-menu');
        if (menu) {
            menu.classList.toggle('show');
        }
    }
    
    // Actualizar selector de idioma
    updateLanguageSelector() {
        const languageBtn = document.querySelector('.language-btn span');
        if (languageBtn) {
            languageBtn.textContent = this.currentLanguage.toUpperCase();
        }
        
        document.querySelectorAll('.language-option').forEach(option => {
            option.classList.remove('active');
            if (option.onclick.toString().includes(this.currentLanguage)) {
                option.classList.add('active');
            }
        });
    }
    
    // Obtener idioma actual
    getCurrentLanguage() {
        return this.currentLanguage;
    }
    
    // Verificar si es espa침ol
    isSpanish() {
        return this.currentLanguage === 'es';
    }
    
    // Verificar si es ingl칠s
    isEnglish() {
        return this.currentLanguage === 'en';
    }
}

// ===== INSTANCIA GLOBAL =====
const i18n = new I18n();

// ===== EXPORTAR FUNCIONES =====
window.i18n = i18n;
window.changeLanguage = (lang) => i18n.changeLanguage(lang);
window.t = (key) => i18n.t(key);
window.getCurrentLanguage = () => i18n.getCurrentLanguage();

// Funci칩n de debug para verificar el estado
window.debugI18n = () => {
    console.log('游댌 === DEBUG SISTEMA DE TRADUCCIONES ===');
    console.log('- i18n disponible:', !!window.i18n);
    console.log('- Idioma actual:', window.getCurrentLanguage());
    console.log('- Funci칩n t disponible:', !!window.t);
    console.log('- Funci칩n getCurrentLanguage disponible:', !!window.getCurrentLanguage());
    
    // Probar algunas traducciones
    console.log('游깷 Pruebas de traducci칩n:');
    console.log('- service_web_dev:', window.t('service_web_dev'));
    console.log('- service_software:', window.t('service_software'));
    console.log('- project_ecommerce_title:', window.t('project_ecommerce_title'));
    
    // Verificar funciones din치micas
    console.log('游닍 Funciones din치micas:');
    console.log('- reloadDynamicContent disponible:', !!window.reloadDynamicContent);
    console.log('- loadServices disponible:', !!window.loadServices);
    
    // Probar recarga manual
    console.log('游댃 Probando recarga manual...');
    if (window.reloadDynamicContent) {
        window.reloadDynamicContent();
    }
};

// Cerrar men칰 de idioma al hacer clic fuera
document.addEventListener('click', (e) => {
    if (!e.target.closest('.language-selector')) {
        const menu = document.getElementById('language-menu');
        if (menu) {
            menu.classList.remove('show');
        }
    }
}); 